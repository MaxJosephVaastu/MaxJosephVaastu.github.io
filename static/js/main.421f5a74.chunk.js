(this.webpackJsonppomodoro=this.webpackJsonppomodoro||[]).push([[0],{20:function(e,t,r){e.exports={root:"App_root__1ZE4A"}},24:function(e,t,r){e.exports=r(41)},29:function(e,t,r){},30:function(e,t,r){},4:function(e,t,r){e.exports={root:"SideBar_root__RVxdS",open:"SideBar_open__2xl08",wrap:"SideBar_wrap__29Ins",item:"SideBar_item__1D7Hl",work:"SideBar_work__TB2fr",rest:"SideBar_rest__snBKq",current:"SideBar_current__13yBA",passed:"SideBar_passed__Hwhc3",info:"SideBar_info__1j0K7",textArea:"SideBar_textArea__3XeRp"}},40:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(10),c=r.n(a),o=(r(29),r(30),r(2));function s(e){return{type:"START_TIMER",id:e}}var l=function(){var e=Object(o.c)((function(e){return e.systemReducer.sideBarIsOpen})),t=Object(o.c)((function(e){return e.timerReducer.editable})),r=Object(o.b)();return i.a.createElement("nav",null,i.a.createElement("div",{className:"nav-wrapper px1"},i.a.createElement("a",{href:"/",className:"brand-logo right"},"\u0421\u0435\u043d\u044c\u043e\u0440 \u041f\u043e\u043c\u0438\u0434\u043e\u0440"),i.a.createElement("ul",{id:"nav-mobile"},i.a.createElement("li",null,i.a.createElement("i",{className:"large material-icons hover",onClick:function(){r({type:"TOGGLE_SIDE_BAR"})}},"timer")),e&&i.a.createElement("li",null,i.a.createElement("i",{className:"large material-icons hover pl1",onClick:function(){r({type:"TOGGLE_EDITABLE"}),t&&r({type:"SAVE_CONFIG"})}},t?"save":"edit")),e&&i.a.createElement("li",null,i.a.createElement("i",{className:"large material-icons hover pl1",onClick:function(){r({type:"RESET_TIMERS"})}},"restore")))))},u=r(3),d=r(4),m=r.n(d),f=r(7),O=r.n(f),T=r(19),y=r.n(T),_=r(22),p=function(e){var t,r=e.timer,n=e.currentTimerId,a=e.currentTimerIsActive,c=e.editable,o=e.onToggle,s=e.onSetInfo,l=O()(m.a.item,(t={},Object(u.a)(t,m.a.work,"work"===r.type),Object(u.a)(t,m.a.rest,"rest"===r.type),Object(u.a)(t,m.a.passed,r.id<n),t)),d=O()(m.a.textArea,"materialize-textarea");return i.a.createElement("li",{className:m.a.wrap},i.a.createElement("div",{className:l},r.delay,(!c||r.id<n)&&i.a.createElement("div",{className:m.a.info},r.info),c&&r.id>=n&&i.a.createElement("div",{className:m.a.info},i.a.createElement(_.a,{className:d,onChange:function(e){s(r.id,e.target.value)},value:r.info})),i.a.createElement("i",{className:"material-icons hover secondary-content amber-text text-lighten-5",onClick:o},r.id===n&&a?"pause_circle_outline":"play_circle_outline")))},E=(r(39),function(){var e,t=Object(o.c)((function(e){return e.systemReducer.sideBarIsOpen})),r=Object(o.c)((function(e){return e.timerReducer.timersList})),n=Object(o.c)((function(e){return e.timerReducer.currentTimer.id})),a=Object(o.c)((function(e){return e.timerReducer.currentTimer.isActive})),c=Object(o.c)((function(e){return e.timerReducer.editable})),l=Object(o.b)(),d=O()(m.a.root,(e={},Object(u.a)(e,m.a.open,t),Object(u.a)(e,"collection",!0),e));return i.a.createElement("ul",{className:d},i.a.createElement(y.a,null,r.map((function(e,t){return i.a.createElement(p,{timer:e,currentTimerId:n,currentTimerIsActive:a,editable:c,key:"timer".concat(t),onToggle:function(){e.id===n?l({type:"TOGGLE_TIMER"}):l(s(e.id))},onSetInfo:function(e,t){l(function(e,t){return{type:"SET_TIMER_INFO",payload:{id:e,info:t}}}(e,t))}})}))))}),b=r(11),j=r(9),v=r.n(j),S=function(e,t){var r=Object(n.useRef)((function(){}));Object(n.useEffect)((function(){r.current=e})),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){return r.current()}),t||0);return function(){return clearInterval(e)}}}),[t])},R=r(14),I=function(){var e,t=Object(o.c)((function(e){return e.systemReducer.sideBarIsOpen})),r=Object(o.c)((function(e){return e.timerReducer.currentTimer.id})),a=Object(o.c)((function(e){return e.timerReducer.timersList[r]})),c=Object(o.c)((function(e){return e.timerReducer.currentTimer})),l=Object(o.c)((function(e){return e.timerReducer.timersList.length})),d=Object(o.c)((function(e){return e.timerReducer.timersList})),m=Object(o.b)(),f=O()(v.a.root,(e={},Object(u.a)(e,v.a.open,t),Object(u.a)(e,v.a.work,"work"===a.type),Object(u.a)(e,v.a.rest,"rest"===a.type),e)),T=O()(v.a.countdown,"amber-text text-lighten-5"),y=O()(v.a.info,"amber-text text-lighten-5"),_=Object(n.useState)(Date.now),p=Object(b.a)(_,2),E=p[0],j=p[1];S((function(){A()}),c.isActive?1e3:null),Object(n.useEffect)((function(){j(c.restTime)}),[c.endTime]);var I=Object(R.a)("sounds/gong.mp3",{volume:1}),g=Object(b.a)(I,1)[0],w=Object(R.a)("sounds/bell.mp3",{volume:1}),N=Object(b.a)(w,1)[0],A=function(){var e=Date.now();j(c.endTime-e),e>c.endTime&&(j(0),m({type:"STOP_TIMER"}),function(){if(r<l){var e=d[r+1];"work"===e.type&&g(),"rest"===e.type&&N(),m(s(r+1)),m({type:"SAVE_CURRENT_TIMER_STATE"})}}())};return i.a.createElement("div",{className:f},i.a.createElement("div",{className:y},a.info),i.a.createElement("div",{className:T},function(e){var t=new Date(e);return"".concat(t.getMinutes()<10?"0":"").concat(t.getMinutes(),":").concat(t.getSeconds()<10?"0":"").concat(t.getSeconds())}(E)),i.a.createElement("i",{className:"large material-icons hover amber-text text-lighten-5",onClick:function(){m({type:"TOGGLE_TIMER"})}},c.isActive?"pause_circle_outline":"play_circle_outline"))},g=(r(40),r(20)),w=r.n(g);var N=function(){var e=Object(o.b)();return Object(n.useEffect)((function(){e({type:"RESTORE_CONFIG"}),e({type:"SYSTEM_RESTORE"}),e({type:"RESTIORE_CURRENT_TIMER_STATE"})}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(l,null),i.a.createElement("div",{className:w.a.root},i.a.createElement(E,null),i.a.createElement(I,null)))},A=function(e){e&&e instanceof Function&&r.e(4).then(r.bind(null,43)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),i(e),a(e),c(e)}))},k=r(8),B=r(21);var h=r(1),L={timersList:[{id:0,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:1,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:2},{id:2,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:3,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:5},{id:4,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:5,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:2},{id:6,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:7,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:10},{id:8,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:9,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:2},{id:10,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:11,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:5},{id:12,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:13,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:2},{id:14,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:15,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:60},{id:16,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:17,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:4},{id:18,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:19,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:10},{id:20,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:21,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:4},{id:22,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:23,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:20},{id:24,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:25,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:4},{id:26,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:27,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:10},{id:28,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30},{id:29,type:"rest",info:"\u041e\u0442\u0434\u044b\u0445",delay:4},{id:30,type:"work",info:"\u0420\u0430\u0431\u043e\u0442\u0430",delay:30}],currentTimer:{id:0,isActive:!1,restTime:18e5,endTime:0},editable:!1},x={sideBarIsOpen:!1},M=function(e){var t=Object(k.a)(B.a);return"undefined"!==typeof window&&"function"===typeof window.__REDUX_DEVTOOLS_EXTENSION__&&(t=Object(k.d)(t,window.__REDUX_DEVTOOLS_EXTENSION__({maxAge:500}))),Object(k.e)(e,t)}(Object(k.c)({timerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_TIMER":var r=Date.now(),n=e.timersList.find((function(e){return e.id===t.id}));return Object(h.a)(Object(h.a)({},e),{},{currentTimer:{id:n.id,isActive:!0,restTime:6e4*n.delay,endTime:r+6e4*n.delay}});case"SET_TIMER_INFO":var i=t.payload,a=i.id,c=i.info,o=e.timersList.map((function(e){return e.id===a?Object(h.a)(Object(h.a)({},e),{},{info:c}):e}));return Object(h.a)(Object(h.a)({},e),{},{timersList:o});case"STOP_TIMER":return Object(h.a)(Object(h.a)({},e),{},{currentTimer:Object(h.a)(Object(h.a)({},e.currentTimer),{},{isActive:!1,restTime:e.currentTimer.endTime-Date.now()})});case"TOGGLE_TIMER":var s=Object(h.a)(Object(h.a)({},e.currentTimer),{},{isActive:!e.currentTimer.isActive}),l=Date.now();return e.currentTimer.isActive?s.restTime=e.currentTimer.endTime-Date.now():s.endTime=l+e.currentTimer.restTime,localStorage.setItem("currentTimer",JSON.stringify(s)),Object(h.a)(Object(h.a)({},e),{},{currentTimer:s});case"TOGGLE_EDITABLE":return Object(h.a)(Object(h.a)({},e),{},{editable:!e.editable});case"RESET_TIMERS":var u=Object(h.a)(Object(h.a)({},e.currentTimer),{},{isActive:!1,id:0,restTime:6e4*e.timersList[0].delay,endTime:6e4*e.timersList[0].delay});return localStorage.setItem("currentTimer",JSON.stringify(u)),Object(h.a)(Object(h.a)({},e),{},{currentTimer:u});case"SAVE_CONFIG":return localStorage.setItem("timerList",JSON.stringify(e.timersList)),e;case"RESTORE_CONFIG":var d=localStorage.getItem("timerList");if(d)try{var m=JSON.parse(d);return Object(h.a)(Object(h.a)({},e),{},{timersList:m})}catch(T){return Object(h.a)({},L)}return Object(h.a)({},L);case"SAVE_CURRENT_TIMER_STATE":return localStorage.setItem("currentTimer",JSON.stringify(e.currentTimer)),e;case"RESTIORE_CURRENT_TIMER_STATE":var f=localStorage.getItem("currentTimer");if(f)try{var O=JSON.parse(f);return O.isActive&&(O.restTime=O.endTime-Date.now()),Object(h.a)(Object(h.a)({},e),{},{currentTimer:O})}catch(T){return e}return e;default:return e}},systemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SYSTEM_RESTORE":var r="true"===localStorage.getItem("sideBarIsOpen");return Object(h.a)(Object(h.a)({},e),{},{sideBarIsOpen:r});case"TOGGLE_SIDE_BAR":return localStorage.setItem("sideBarIsOpen",String(!e.sideBarIsOpen)),Object(h.a)(Object(h.a)({},e),{},{sideBarIsOpen:!e.sideBarIsOpen});default:return e}}}));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(o.a,{store:M},i.a.createElement(N,null))),document.getElementById("root")),A()},9:function(e,t,r){e.exports={root:"Timer_root__1Vgxz",work:"Timer_work__1zPxs",rest:"Timer_rest__1UEVO",open:"Timer_open__2l5Rs",countdown:"Timer_countdown__2h9y7",info:"Timer_info__36o-o"}}},[[24,1,2]]]);
//# sourceMappingURL=main.421f5a74.chunk.js.map